<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>형변환</title>
</head>
<body>
    <h1>형변환</h1>
    <fieldset>
        <legend>두 수의 합</legend>
        <!-- input:number[name=nums]#num$*2 -->
        <input type="number" name="nums" id="num1" value="33"><br>
        <input type="number" name="nums" id="num2" value="22"><br>
        <button onclick="test1();">합</button>
    </fieldset>
    <br><br>
    <button onclick="test2();">문자열과 산술/비교연산</button>
    <button onclick="test3();">Number | parseInt | parseFloat</button>
    <button onclick="test4();">논리형으로의 형변환</button>
    <button onclick="test5();">짧은 조건문</button>
    <script>
        /**
         * input태그의 value 속성은 모두 문자열이다.
         */
        function test1() {
            console.log(typeof num1.value, num1.value);
            console.log(typeof num2.value, num2.value);
            alert(Number(num1.value) + Number(num2.value));
        }
        
        /**
         * 문자열과 산술/비교연산
         */
        function test2() {
            const a = "3";
            const b = 3;

            // 숫자가 문자열로 형변환
            console.log(typeof(a+b), a+b); // string 33

            // 문자열이 숫자로 형변환
            console.log(typeof(a-b), a-b); // number 0
            console.log(typeof(a*b), a*b); // number 9
            console.log(typeof(a/b), a/b); // number 1
            console.log(typeof(a%b), a%b); // number 0

            const c = "abc"; // 숫자로 변환 불가능한 문자열
            console.log(typeof(c*b), c*b); // number NaN

            let bool = true; // true는 산술연산 시 1로 변환
            console.log(typeof(bool/b), bool/b); // number 0.3333333333333333

            bool = false; // false는 산술연산 시 0으로 변환
            console.log(typeof(bool/b), bool/b); // number 0

            console.log(a==b), a==b; // boolean true
            console.log(a!=b), a!=b; // boolean false

            //엄격비교연산자
            // === 타입/값이 모두 같으면 true, 하나라도 다르면 false
            // !== 타입/값 중에 하나라도 다르면, true 모두 같으면 false
            console.log(a===b), a===b; // boolean false
            console.log(a!==b), a!==b; // boolean true

        }
        /**
         * 문자열을 숫자로 명시적 형변환
         * Number 숫자로 변환. 변화불가한 문자가 하나라도 있으면 NaN을 반환.
         * parseInt 정수로 변환. 변환불가한 문자가 나오기 전까지 변환 후 정수반환.
         * parseFloat 실수로 변환. 변환불가한 문자가 나오기 전까지 변환 후 실수반환.
         */
        function test3() {
            const n = "1234.56";
            console.log(Number(n)); // 1234.56
            console.log(parseInt(n)); // 1234
            console.log(parseFloat(n)); // 1234.56

            const won = "1234.56원";
            console.log(Number(won)); // NaN
            console.log(parseInt(won)); // 1234
            console.log(parseFloat(won)); // 1234.56
        }
        /**
         *  값이 있는 것은 true : "abc", 1000, -10, 12.2, {}, []
         *  값이 없으면 false : "", 0, 0.0, undefined, null, NaN
         */
        function test4() {
            console.log(Boolean("abc"), !!"abc"); // true true
            console.log(Boolean(100), !!100); // true true
            console.log(Boolean(-100), !!(-100)); // true true
            console.log(Boolean(1.23), !!1.23); // true true
            console.log(Boolean({}), !!{}); // true true
            console.log(Boolean([]), !![]); // true true

            console.log(Boolean(0), !!0); // false false
            console.log(Boolean(""), !!""); // false false
            console.log(Boolean(0.0), !!0.0); // false false
            console.log(Boolean(undefined), !!undefined); // false false
            console.log(Boolean(null), !!null); // false false
            console.log(Boolean(NaN), !!NaN); // false false

            const elem = document.querySelector("#xyz");
            if(elem) {
                // elem이 존재하는 경우
            }
            else {
                // elem이 존재하지 않는 경우(null이 반환)
            }
            foo(elem);

            // elem이 존재하면 k에 대입
            // elem이 존재하지 않으면(false이면) 우항의 요소를 대입
            const k = elem || document.createElement("h2");
            console.log(k);

        }
        function foo(x) {
            if(x) {
                // x가 존재하는 경우
            }
            else {
                // x가 존재하지 않는 경우
            }
        }
        /**
         * 짧은 조건문
         * a && b(실행문) : a가 true로 평가되면 b를 실행
         * a || b(실행문) : a가 false로 평가되면 b를 실행
         */
        function test5() {
            const num = Number(prompt("정수를 입력하세요"));
            num % 2 == 0 && alert("짝수 입니다.");
            num % 2 == 0 || alert("홀수 입니다.");
        }
    </script>
</body>
</html>